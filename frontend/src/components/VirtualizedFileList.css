/* Virtualized File List Performance Optimizations - Zen Theme */

.virtualized-file-list {
    /* Use GPU acceleration for smooth scrolling */
    transform: translateZ(0);
    will-change: scroll-position;
    
    /* Optimize rendering */
    contain: layout style paint;
    
    /* Prevent layout thrashing */
    overflow-anchor: none;
    
    /* Enhanced spacing for zen design */
    padding: var(--zen-space-xl);
    gap: var(--zen-space-xs);
}

.virtualized-file-list .file-item {
    /* Optimize positioning for virtual scrolling */
    contain: layout style paint;
    
    /* Prevent unnecessary reflows */
    box-sizing: border-box;
    
    /* Use transform instead of top/left for better performance */
    will-change: transform;
    
    /* Zen spacing and design */
    margin-bottom: var(--zen-space-xs);
    border-radius: var(--zen-radius-md);
    min-height: 3.5rem;
}

/* Optimize scrollbar for zen theme */
.virtualized-file-list::-webkit-scrollbar {
    width: 6px;
    background-color: transparent;
}

.virtualized-file-list::-webkit-scrollbar-track {
    background-color: transparent;
    border-radius: 3px;
}

.virtualized-file-list::-webkit-scrollbar-thumb {
    background-color: var(--zen-border);
    border-radius: 3px;
}

.virtualized-file-list::-webkit-scrollbar-thumb:hover {
    background-color: var(--zen-border-focus);
}

/* Prevent horizontal scrollbar from appearing */
.virtualized-file-list::-webkit-scrollbar-horizontal {
    display: none;
}

/* Optimize file items for virtual scrolling */
.virtual-file-item {
    position: absolute;
    width: 100%;
    
    /* Prevent text selection during fast scrolling */
    user-select: none;
    
    /* Optimize for frequent updates */
    contain: layout style paint;
    
    /* Prevent subpixel rendering issues */
    transform: translateZ(0);
    
    /* Zen design spacing */
    padding: var(--zen-space-lg);
    border-radius: var(--zen-radius-md);
}

/* Loading state optimizations */
.virtualized-file-list .loading-overlay {
    /* Use backdrop-filter for better performance */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    
    /* Optimize positioning */
    position: absolute;
    inset: 0;
    
    /* Prevent interaction during loading */
    pointer-events: none;
    
    /* Use flexbox for centering with zen spacing */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--zen-space-lg);
    
    /* Zen theme background */
    background: rgba(250, 250, 250, 0.8);
    color: var(--zen-text-tertiary);
}

/* Memory-efficient animations with zen timing */
@media (prefers-reduced-motion: no-preference) {
    .virtual-file-item {
        transition: opacity 150ms ease-out, transform 150ms ease-out;
    }
    
    .virtual-file-item:hover {
        transform: translateY(-1px) translateZ(0);
    }
}

/* High DPI optimizations */
@media (-webkit-min-device-pixel-ratio: 2) {
    .virtualized-file-list {
        /* Optimize for high DPI displays */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* Dark mode support for loading overlay */
@media (prefers-color-scheme: dark) {
    .virtualized-file-list .loading-overlay {
        background: rgba(26, 35, 50, 0.8);
    }
} 